(function(){"use strict";var a={}.hasOwnProperty,b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};Date.prototype.getWeek=function(){var a,b;return a=new Date(this.getTime()),a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7),b=new Date(a.getFullYear(),0,4),1+Math.round(((a.getTime()-b.getTime())/864e5-3+(b.getDay()+6)%7)/7)},angular.module("ngTestingApp",["ngRoute","ngResource","ngAnimate"]),angular.module("ngTestingApp").animation(".panel-body",function(){var a,b,c;return b=300,a=50,c=function(c,d,e){var f,g;return f=function(){switch(d){case"up":return 1;case"down":return-1}}(),null!=f?(c.stop(),c.css({top:0,opacity:1}),g=jQuery("<div>").addClass(c.attr("class")).css({position:"absolute",top:c.offset().top,left:c.offset().left,opacity:1,width:c.outerWidth(),"z-index":100,"text-align":"center"}).html(c.text()).appendTo(jQuery("body")),c.css({top:a*f,opacity:0}),g.animate({top:g.position().top-a*f,opacity:0},b,function(){return g.remove()}),c.animate({top:0,opacity:1},b,e()),function(a){return a?c.stop():void 0}):void 0},{addClass:c}}),angular.module("ngTestingApp").config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"})}]),angular.module("ngTestingApp").controller("MainCtrl",["$scope","Sections","ControlTypes","$timeout",function(b,c,d,e){var f;return b.sections=c.getAll(),b.sections.$promise.then(function(){return b.currentSection=b.sections[0]}),b.isHasValidationError=function(b){var c,d;for(d in b)if(a.call(b,d)&&(c=b[d]))return c;return!1},b.getControlTypeUrl=function(a){return d.getByType(a)},f=function(a){return b.panelBodyAction=a,e(function(){return b.panelBodyAction=""},300),c.changeValue(b.currentSection,a)},b.incrementCurrentSection=function(){return f("up")},b.decrementCurrentSection=function(){return f("down")},b}]),angular.module("ngTestingApp").directive("dateInput",["dateFilter",function(a){return{require:"ngModel",template:'<input type="date"></input>',replace:!0,link:function(b,c,d,e){return e.$formatters.unshift(function(b){return a(b,"yyyy-MM-dd")}),e.$parsers.unshift(function(a){return new Date(a)})}}}]),angular.module("ngTestingApp").factory("ControlTypes",function(){var a;return a=["number","select","date","panel"],{getAll:function(){return a},getByType:function(c){return"views/controls/"+(b.call(a,c)>=0?c:"number")+".html"}}}),angular.module("ngTestingApp").factory("Sections",["$resource",function(a){var b;return b=a("data/sections.json").query(function(){var a;return a=new Date,b[0].value=a.getFullYear(),b[1].value=b[1].availibleValues[Math.ceil((a.getMonth()+1)/3)-1],b[2].value=b[2].availibleValues[a.getMonth()],b[3].value=a.getWeek(),b[4].value=a,null!=b[4].range?b[4].range={min:new Date(b[4].range.min),max:new Date(b[4].range.max)}:void 0}),{getAll:function(){return b},getById:function(a){var c,d,e,f;for(f=[],d=0,e=b.length;e>d;d++)c=b[d],c.id===a&&f.push(c);return f},changeValue:function(a,b){var c;switch(a.type||"number"){case"number":c=a.value+("down"===b?-1:1);break;case"date":c=new Date(a.value.getTime()+864e5*("down"===b?-1:1));break;case"select":c=a.availibleValues[a.availibleValues.indexOf(a.value)+("down"===b?-1:1)],null==c&&(c=a.value)}return null==a.range||null!=a.range&&a.range.min<=c&&c<=a.range.max?a.value=c:void 0}}}])}).call(this);